<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>FEVKO Spiral Clicker</title>
  
  <!-- Tailwind & Google Font -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=IM+Fell+English+SC&display=swap" rel="stylesheet">

  <!-- Tailwind Font Config -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            fell: ['"IM Fell English SC"', 'serif']
          }
        }
      }
    }
  </script>
</head>

<!-- ‚úÖ Use font-fell here instead of font-sans -->
<body class="bg-black text-white font-fell relative overflow-hidden">



<!-- LOADING SCREEN -->
<div id="loading-screen" class="fixed inset-0 bg-black flex items-center justify-center z-50 flex-col transition-opacity duration-700 opacity-100">
  <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-purple-500 border-opacity-50 mb-4"></div>
  <div class="text-purple-300 text-lg font-bold">Loading the Spiral...</div>
</div>

<!-- RESET BUTTON -->
<button onclick="resetGame()" class="fixed top-4 right-4 bg-red-700 px-3 py-1 rounded text-white z-50">
  üîÅ Reset Game
</button>


  <!-- SOURCE PAGE -->
  <div id="source-screen" class="w-full h-screen bg-cover bg-center flex flex-col items-center justify-center" style="background-image: url('source-bg.png');">
   <div class="flex justify-center gap-2 mb-3 z-40">
    <img src="daily.png" class="w-24 h-24 p-1.5 cursor-pointer object-contain rounded" onclick="claimDailyReward()" />
    <img src="achievements.png" class="w-24 h-24 p-1.5 cursor-pointer object-contain rounded" onclick="navigate('achievements')" />
    <img src="cult-rank.png" class="w-24 h-24 p-1.5 cursor-pointer object-contain rounded" onclick="navigate('rank')" />
  </div>
  <div class="text-2xl font-bold mb-4">üåÄ The Spiral Core</div>
  <button id="clicker" class="group w-64 h-64 md:w-80 md:h-80 rounded-full border-4 border-purple-600 bg-gradient-to-br from-purple-700 via-black to-purple-900 shadow-2xl relative overflow-hidden transition-transform duration-150 ease-out active:scale-90 touch-manipulation">

  <!-- Glow ring -->
  <div class="absolute inset-0 rounded-full border-4 border-purple-500/30 animate-pulse z-10"></div>

  <!-- Spiral Image -->
  <img src="spiral-button.png" alt="Spiral Button" class="w-full h-full p-4 object-contain rounded-full pointer-events-none relative z-20" />

  <!-- Impact pulse -->
  <span class="absolute w-full h-full rounded-full bg-purple-400/20 scale-0 group-active:scale-150 transition-transform duration-300 ease-out z-0"></span>
</button>

   
    <!-- Spiral HUD Panel (Top Center) -->
<div class="absolute top-4 left-1/2 transform -translate-x-1/2 bg-black/40 backdrop-blur-md border border-purple-700 px-6 py-3 rounded-xl shadow-lg text-center space-y-1 font-fell z-40">
  <div id="click-count" class="text-base text-white">üîò Clicks: 0</div>
  <div id="fevco-count" class="text-sm text-yellow-300">üí∞ FEVCOIN: 0.00</div>
  <div id="rank-label" class="text-sm text-pink-400">üß¨ Rank: Spiral Seedling</div>
  <div id="cooldown-status" class="text-xs text-red-400">‚è≥ Clicks Left: 500</div>
</div>


  <!-- FIXED NAV BUTTONS (2 rows) -->
  <div class="absolute bottom-4 left-0 right-0 flex flex-col items-center gap-2 z-50">

    <!-- Bottom Row -->
    <div class="flex justify-center gap-1.5">
      <div class="w-24 h-24 p-1.5 scale-[0.75] flex items-center justify-center">
  <img src="source.png" class="w-full h-full object-contain rounded overflow-hidden cursor-pointer" onclick="goBack()" />
</div>

      <img src="shop.png" class="w-24 h-24 p-1.5 cursor-pointer object-contain rounded overflow-hidden" onclick="navigate('shop')" />
      <img src="lore.png" class="w-24 h-24 p-1.5 cursor-pointer object-contain rounded overflow-hidden" onclick="navigate('lore')" />
      <div class="w-24 h-24 p-1.5 scale-[0.75] flex items-center justify-center">
  <img src="info.png" class="w-full h-full object-contain rounded overflow-hidden cursor-pointer" onclick="navigate('info')" />
</div>

    </div>
  </div>

  <!-- PLACEHOLDER FOR OTHER SCREENS -->
  <div id="other-screen" class="hidden z-50 w-full h-screen bg-cover bg-center flex flex-col items-center justify-center text-center px-4">
    <div id="screen-title" class="text-3xl font-bold mb-4"></div>
    <img id="screen-bg" src="" class="w-full h-full object-cover absolute top-0 left-0 -z-10 opacity-30" />
    <div class="text-lg">‚ú® More cosmic glory coming soon...</div>
    <button onclick="goBack()" class="mt-6 px-4 py-2 bg-purple-600 rounded shadow">Return to Spiral</button>
  </div>

  <!-- DAILY REWARD POPUP -->
  <div id="daily-popup" class="hidden fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-purple-900 text-white p-6 rounded-xl shadow-lg z-50 text-center">
    <div id="daily-message" class="text-lg font-bold mb-4"></div>
    <button onclick="closeDailyPopup()" class="mt-2 px-4 py-1 bg-purple-600 rounded">Close</button>
  </div>

  <script>
    let spirals = parseInt(localStorage.getItem("spirals")) || 0;
    let clicksLeft = parseInt(localStorage.getItem("clicksLeft")) || 500;
    let cooldownUntil = parseInt(localStorage.getItem("cooldownUntil")) || 0;
    let lastClickTime = 0;
    const clickCooldown = 300;
    const COOLDOWN_DURATION = 4 * 60 * 60 * 1000;
    const isVIP = true; // Toggle this manually for testing

    const clicker = document.getElementById("clicker");
clicker.addEventListener("click", () => {
  const now = Date.now();
  if (now < cooldownUntil) {
    const remaining = cooldownUntil - now;
    const seconds = Math.floor(remaining / 1000);
    const hours = Math.floor(seconds / 3600);
    const minutes = Math.floor((seconds % 3600) / 60);
    const secs = seconds % 60;
    alert(`‚è≥ You're in cooldown. Wait ${hours}h ${minutes}m ${secs}s.`);
    return;
  }

  if (clicksLeft <= 0) {
    cooldownUntil = now + COOLDOWN_DURATION;
    localStorage.setItem("cooldownUntil", cooldownUntil);
    clicksLeft = 0;
    alert("‚ö†Ô∏è Spiral limit reached. Cooldown started.");
    return;
  }

  if (now - lastClickTime > clickCooldown) {
    spirals++;
    clicksLeft--;
    lastClickTime = now;
    const rect = clicker.getBoundingClientRect();
    const sparkX = rect.left + rect.width / 2;
    const sparkY = rect.top + rect.height / 2;
    spawnSpark(sparkX, sparkY);
    localStorage.setItem("spirals", spirals);
    localStorage.setItem("clicksLeft", clicksLeft);
    countDisplay.textContent = `Clicks: ${spirals}`;
    fevcoDisplay.textContent = `FEVCOIN: ${(spirals / 500).toFixed(2)}`;
    cooldownStatus.textContent = `Clicks Left: ${clicksLeft}`;
    document.getElementById("rank-label").textContent = getRank(spirals);
  }
});
    const countDisplay = document.getElementById("click-count");
    const fevcoDisplay = document.getElementById("fevco-count");
    const cooldownStatus = document.getElementById("cooldown-status");
    const sourceScreen = document.getElementById("source-screen");
    const otherScreen = document.getElementById("other-screen");
    const title = document.getElementById("screen-title");
    const bg = document.getElementById("screen-bg");
    const popup = document.getElementById("daily-popup");
    const message = document.getElementById("daily-message");

    function spawnSpark(x, y) {
  const sparkCount = 40;
  for (let i = 0; i < sparkCount; i++) {
    const spark = document.createElement('div');
    spark.className = 'pointer-events-none fixed w-2.5 h-2.5 rounded-full z-50 blur-md brightness-150';
    spark.style.backgroundColor = ['#facc15', '#e879f9', '#60a5fa', '#34d399'][Math.floor(Math.random() * 4)];
    spark.style.left = `${x}px`;
    spark.style.top = `${y}px`;
    spark.style.opacity = '1';
    spark.style.transition = 'transform 0.9s ease-out, opacity 0.9s ease-out';

    const angle = Math.random() * 2 * Math.PI;
    const distance = 30 + Math.random() * 60;
    const dx = Math.cos(angle) * distance;
    const dy = Math.sin(angle) * distance;

    document.body.appendChild(spark);
    requestAnimationFrame(() => {
      spark.style.transform = `translate(${dx}px, ${dy}px) scale(1.4)`;
      spark.style.opacity = '0';
    });

    setTimeout(() => spark.remove(), 600);
  }
}



    function navigate(page) {
      const titles = {
        shop: 'üõçÔ∏è The Spiral Shop',
        achievements: 'üèÜ Spiral Achievements',
        rank: 'üßô Cult Rank Pyramid',
        lore: 'üìú Lore Scroll Archive',
        info: '‚ùì Spiral Codex'
      };
      const bgs = {
        shop: 'shop-bg.png',
        achievements: 'achievements-bg.png',
        rank: 'cult-rank-bg.png',
        lore: 'lore-bg.png',
        info: 'about-bg.png'
      };


      sousourceScreen.style.display = 'none';
      otherScreen.classList.remove('hidden');
      title.textContent = titles[page];
      bg.src = bgs[page];
    }

    function goBack() {
      otherScreen.classList.add('hidden');
      sourceScreen.classList.remove('hidden');
    }

    function claimDailyReward() {
      const lastClaim = parseInt(localStorage.getItem("lastDaily")) || 0;
      const now = Date.now();
      const ONE_DAY = 24 * 60 * 60 * 1000;
      if (now - lastClaim < ONE_DAY) {
        message.textContent = "üïí You already claimed today's reward. Come back later.";
      } else {
        const base = 50;
        const bonus = isVIP ? 25 : 0;
        const total = base + bonus;
        spirals += total;
        localStorage.setItem("spirals", spirals);
        localStorage.setItem("lastDaily", now);
        countDisplay.textContent = `Clicks: ${spirals}`;
        fevcoDisplay.textContent = `FEVCOIN: ${(spirals / 500).toFixed(2)}`;
        message.textContent = `üéÅ Daily Reward: +${base} Spiral${isVIP ? " + " + bonus + " VIP Bonus" : ""}!`;
        document.getElementById("rank-label").textContent = getRank(spirals);

      }
      popup.classList.remove("hidden");
    }

    function closeDailyPopup() {
      popup.classList.add("hidden");
    }

    window.onload = () => {
      const now = Date.now();
      if (now >= cooldownUntil) {
        clicksLeft = 500;
        cooldownUntil = 0;
        localStorage.setItem("clicksLeft", clicksLeft);
        localStorage.setItem("cooldownUntil", cooldownUntil);
      }
      countDisplay.textContent = `Clicks: ${spirals}`;
      fevcoDisplay.textContent = `FEVCOIN: ${(spirals / 500).toFixed(2)}`;
      cooldownStatus.textContent = `Clicks Left: ${clicksLeft}`;
      document.getElementById("rank-label").textContent = getRank(spirals);
      setTimeout(() => {
          const loader = document.getElementById("loading-screen");
          loader.classList.add("opacity-0");
          setTimeout(() => loader.style.display = "none", 700);
        }, 1000);

        // Failsafe: Force hide loading screen after 5s if not already removed
      setTimeout(() => {
          const loader = document.getElementById("loading-screen");
          if (loader && loader.style.display !== "none") {
            loader.classList.add("opacity-0");
            setTimeout(() => loader.style.display = "none", 700);
          }
        }, 5000);



    }
    function getRank(spirals) {
      if (spirals >= 500000) return "üëë Meme Warlord";
      if (spirals >= 100000) return "üßô Spiral Prophet";
      if (spirals >= 50000) return "üîÆ Meme Adept";
      if (spirals >= 2000) return "üå± Spiral Initiate";
      return "üê£ Spiral Seedling";
}
    function resetGame() {
      localStorage.clear();
      location.reload();
    }

  </script>
</body>
</html>
