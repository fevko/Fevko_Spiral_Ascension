<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FEVKO Spiral Clicker</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white font-sans relative overflow-hidden">

  <!-- SOURCE PAGE -->
  <div id="source-screen" class="w-full h-screen bg-cover bg-center flex flex-col items-center justify-center" style="background-image: url('source-bg.png');">
    <div class="text-2xl font-bold mb-4">ðŸŒ€ The Spiral Core</div>
    <button id="clicker" class="group w-64 h-64 md:w-80 md:h-80 rounded-full border-4 border-purple-500 bg-purple-700 bg-opacity-30 flex items-center justify-center shadow-lg hover:scale-105 active:scale-95 transition hover:shadow-purple-500 hover:ring-4 hover:ring-purple-700 animate-pulse relative overflow-hidden">
      <img src="spiral-button.png" alt="Spiral Button" class="w-full h-full p-3 object-contain rounded-full pointer-events-none absolute top-0 left-0 z-0" />
      <span class="absolute w-full h-full rounded-full z-10 bg-purple-500/20 scale-0 group-active:scale-100 transition-transform duration-200 ease-out"></span>
    </button>
    <div id="click-count" class="mt-4 text-lg">Clicks: 0</div>
    <div id="fevco-count" class="text-sm text-purple-300 mt-1">FEVCOIN: 0.00</div>
    <div id="cooldown-status" class="mt-2 text-red-400"></div>
  </div>

  <!-- FIXED NAV BUTTONS -->
  <div class="absolute bottom-4 left-0 right-0 flex flex-col items-center gap-2 z-50">
    <div class="flex justify-center gap-1.5 mt-2">
      <img src="daily.png" class="w-24 h-24 p-1.5 cursor-pointer" onclick="claimDailyReward()" />
      <img src="achievements.png" class="w-24 h-24 p-1.5 cursor-pointer" onclick="navigate('achievements')" />
      <img src="rebirth.png" class="w-24 h-24 p-1.5 cursor-pointer" onclick="navigate('rebirth')" />
      <img src="cult-rank.png" class="w-24 h-24 p-1.5 cursor-pointer" onclick="navigate('rank')" />
    </div>
    <div class="flex justify-center gap-1.5">
      <img src="source.png" class="w-24 h-24 p-1.5 cursor-pointer scale-[0.75]" onclick="goBack()" />
      <img src="shop.png" class="w-24 h-24 p-1.5 cursor-pointer" onclick="navigate('shop')" />
      <img src="lore.png" class="w-24 h-24 p-1.5 cursor-pointer" onclick="navigate('lore')" />
      <img src="info.png" class="w-24 h-24 p-1.5 cursor-pointer scale-[0.75]" onclick="navigate('info')" />
    </div>
  </div>

  <script>
    let spirals = parseInt(localStorage.getItem("spirals")) || 0;
    let clicksLeft = parseInt(localStorage.getItem("clicksLeft")) || 500;
    let cooldownUntil = parseInt(localStorage.getItem("cooldownUntil")) || 0;
    let rebirths = parseInt(localStorage.getItem("rebirths")) || 0;
    const clickCooldown = 300;
    const COOLDOWN_DURATION = 4 * 60 * 60 * 1000;
    const isVIP = true;

    const clicker = document.getElementById("clicker");
    const countDisplay = document.getElementById("click-count");
    const fevcoDisplay = document.getElementById("fevco-count");
    const cooldownStatus = document.getElementById("cooldown-status");

    function spawnSpark(x, y) {
      for (let i = 0; i < 6; i++) {
        const spark = document.createElement('div');
        spark.className = 'pointer-events-none fixed w-2 h-2 rounded-full z-50';
        spark.style.backgroundColor = ['#facc15', '#fcd34d', '#fde68a'][Math.floor(Math.random() * 3)];
        spark.style.left = `${x}px`;
        spark.style.top = `${y}px`;
        spark.style.opacity = '1';
        spark.style.transition = 'transform 0.4s ease-out, opacity 0.4s ease-out';

        const angle = Math.random() * 2 * Math.PI;
        const distance = 30 + Math.random() * 30;
        document.body.appendChild(spark);

        requestAnimationFrame(() => {
          spark.style.transform = `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px) scale(1.5)`;
          spark.style.opacity = '0';
        });

        setTimeout(() => spark.remove(), 400);
      }
    }

    clicker.addEventListener("click", () => {
      const now = Date.now();
      if (now < cooldownUntil || clicksLeft <= 0) return;
      spirals++;
      clicksLeft--;
      spawnSpark(window.innerWidth / 2, window.innerHeight / 2);
      localStorage.setItem("spirals", spirals);
      localStorage.setItem("clicksLeft", clicksLeft);
      updateUI();
    });

    window.navigate = function(page) {
      alert(`Navigating to ${page}. More cosmic glory coming soon!`);
    }

    window.goBack = function() {
      alert("Returning to the Spiral Core.");
    }

    window.claimDailyReward = function() {
      const lastClaim = parseInt(localStorage.getItem("lastDaily")) || 0;
      const now = Date.now();
      if (now - lastClaim < 86400000) return alert("Reward already claimed today!");
      const reward = isVIP ? 75 : 50;
      spirals += reward;
      localStorage.setItem("spirals", spirals);
      localStorage.setItem("lastDaily", now);
      updateUI();
      alert(`Daily Reward claimed: ${reward} spirals!`);
    }

    function updateUI() {
      countDisplay.textContent = `Clicks: ${spirals}`;
      fevcoDisplay.textContent = `FEVCOIN: ${(spirals / 500).toFixed(2)}`;
      cooldownStatus.textContent = `Clicks Left: ${clicksLeft}`;
    }

    updateUI();
  </script>
</body>
</html>
